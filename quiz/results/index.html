<!DOCTYPE html>
<html class="med">
	<head>
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Balsamiq+Sans:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
		<link rel="stylesheet" href="../../assets/css/style.css">
		<link rel="icon" type="image/x-icon" href="../../favicon.ico">
		<link rel="shortcut icon" type="image/x-icon" href="../../favicon.ico">
		<meta charset="utf-8">
		<script src="https://unpkg.com/vue@3"></script>
		<script type="module">
			const{ createApp } = Vue
			import MainComponent from '../../assets/js/app.js'
			createApp(MainComponent).mount('#app')
		</script>
		<title>
		Quiz | Ergebnisse
		</title>
	</head>
	<body id="app">
		<script type="text/javascript" src="../../assets/js/script.js"></script>
		<script type="text/javascript">
			// Get vars.
			var urlVars = getUrlVars();
			var first   = urlVars["1"];
			var second  = urlVars["2"];
			var third   = urlVars["3"];
			var fourth  = urlVars["4"];
			var fifth   = urlVars["5"];
			var sixth   = urlVars["6"];
			var seventh = urlVars["7"];
			var eighth  = urlVars["8"];
			var ninth   = urlVars["9"];
			var gres = get_results(9,first,second,third,fourth,fifth,sixth,seventh,eighth,ninth);
		</script>
		<span class="ms-font home">
			<a href="../../" class="nolink">
				<img src="../../assets/img/ms_logo.png" class="img">
				<div class="noblock">
					Zum Start
				</div>
			</a>
		</span>
		<Transition name="fade" mode="out-in">
			<span class="centered" v-if="!showb">
				<div class="atom-spinner atom-scale">
					<div class="spinner-inner">
						<div class="spinner-line"></div>
						<div class="spinner-line"></div>
						<div class="spinner-line"></div>
						<!--Chrome renders little circles malformed :(-->
						<div class="spinner-circle">
							&#9679;
						</div>
					</div>
				</div>
			</span>
			<span class="centered middle light-gray" v-if="showb">
				<h1 class="ms-font light-gray four-em trans-back">
				Medienscouts-Quiz - Ergebnisse
				</h1>
				<table>
					<tbody>
						<tr>
							<td rowspan="2">
								<div class="table-wrapper balsamiq-font">
									<table class="red-color-small">
										<thead>
											<tr>
												<th class="middle">
													Frage
												</th>
												<th class="middle">
													Beschreibung
												</th>
												<th class="middle">
													Antwort
												</th>
												<th class="middle">
													Richtig
												</th>
											</tr>
										</thead>
										<tbody>
											<tr>
												<td>
													1
												</td>
												<td>
													{{ questions[0] }}
												</td>
												<td>
													<script>document.write(first);</script>
												</td>
												<td>
													<script>document.write(gres[6]);</script>
												</td>
											</tr>
											<tr>
												<td>
													2
												</td>
												<td>
													{{ questions[1] }}
												</td>
												<td>
													<script>document.write(second);</script>
												</td>
												<td>
													<script>document.write(gres[7]);</script>
												</td>
											</tr>
											<tr>
												<td>
													3
												</td>
												<td>
													{{ questions[2] }}
												</td>
												<td>
													<script>document.write(third);</script>
												</td>
												<td>
													<script>document.write(gres[8]);</script>
												</td>
											</tr>
											<tr>
												<td>
													4
												</td>
												<td>
													{{ questions[3] }}
												</td>
												<td>
													<script>document.write(fourth);</script>
												</td>
												<td>
													<script>document.write(gres[9]);</script>
												</td>
											</tr>
											<tr>
												<td>
													5
												</td>
												<td>
													{{ questions[4] }}
												</td>
												<td>
													<script>document.write(fifth);</script>
												</td>
												<td>
													<script>document.write(gres[10]);</script>
												</td>
											</tr>
											<tr>
												<td>
													6
												</td>
												<td>
													{{ questions[5] }}
												</td>
												<td>
													<script>document.write(sixth);</script>
												</td>
												<td>
													<script>document.write(gres[11]);</script>
												</td>
											</tr>
											<tr>
												<td>
													7
												</td>
												<td>
													{{ questions[6] }}
												</td>
												<td>
													<script>document.write(seventh);</script>
												</td>
												<td>
													<script>document.write(gres[12]);</script>
												</td>
											</tr>
											<tr>
												<td>
													8
												</td>
												<td>
													{{ questions[7] }}
												</td>
												<td>
													<script>document.write(eighth);</script>
												</td>
												<td>
													<script>document.write(gres[13]);</script>
												</td>
											</tr>
											<tr>
												<td>
													9
												</td>
												<td>
													{{ questions[8] }}
												</td>
												<td>
													<script>document.write(ninth);</script>
												</td>
												<td>
													<script>document.write(gres[14]);</script>
												</td>
											</tr>
										</tbody>
									</table>
								</div>
							</td>
							<td>
								<svg viewBox="-1 -1 2 2" style="transform: rotate(-90deg)" id="svgone">
								</svg>
								<script type="text/javascript">
									const svgEl = document.getElementById('svgone');
									const slices = [
										{ percent: gres[4]/gres[15], color: '#77dd77' },
										{ percent: gres[5]/gres[15], color: '#ff6961' }
									];
									let cumulativePercent = 0;
									function getCoordinatesForPercent(percent) {
										const x = Math.cos(2 * Math.PI * percent);
										const y = Math.sin(2 * Math.PI * percent);
										return [x, y];
									}
									slices.forEach(slice => {
										const [startX, startY] = getCoordinatesForPercent(cumulativePercent);
										cumulativePercent += slice.percent;
										const [endX, endY] = getCoordinatesForPercent(cumulativePercent);
										const largeArcFlag = slice.percent > .5 ? 1 : 0;
										const pathData = [
											`M ${startX} ${startY}`,
											`A 1 1 0 ${largeArcFlag} 1 ${endX} ${endY}`,
											`L 0 0`,
										].join(' ');
										const pathEl = document.createElementNS('http://www.w3.org/2000/svg', 'path');
										pathEl.setAttribute('d', pathData);
										pathEl.setAttribute('fill', slice.color);
										svgEl.appendChild(pathEl);
									});
								</script>
								<br><br>
								<div class="balsamiq-font back-box">
									<br>
									<div class="green-color-res">
										<script type="text/javascript">document.write("Richtig: "+gres[4]+" ("+Math.round(((gres[4]/gres[15])+Number.EPSILON)*100)+"%)");</script>
									</div>
									<div class="red-color-res">
										<script type="text/javascript">document.write("Falsch: "+gres[5]+" ("+Math.round(((gres[5]/gres[15])+Number.EPSILON)*100)+"%)");</script>
									</div>
									<br>
								</div>
							</td>
							<td>
								<svg viewBox="-1 -1 2 2" style="transform: rotate(-90deg)" id="svgtwo">
								</svg>
								<script type="text/javascript">
									const svgEl_ = document.getElementById('svgtwo');
									const slices_ = [
										{ percent: gres[0]/gres[15], color: '#9FC088' },
										{ percent: gres[1]/gres[15], color: '#E8C07D' },
										{ percent: gres[2]/gres[15], color: '#CC704B' },
										{ percent: gres[3]/gres[15], color: '#614124' }
									];
									let cumulativePercent_ = 0;
									function getCoordinatesForPercent_(percent) {
										const x = Math.cos(2 * Math.PI * percent);
										const y = Math.sin(2 * Math.PI * percent);
										return [x, y];
									}
									slices_.forEach(slice_ => {
										const [startX_, startY_] = getCoordinatesForPercent_(cumulativePercent_);
										cumulativePercent_ += slice_.percent;
										const [endX_, endY_] = getCoordinatesForPercent_(cumulativePercent_);
										const largeArcFlag_ = slice_.percent > .5 ? 1 : 0;
										const pathData_ = [
											`M ${startX_} ${startY_}`,
											`A 1 1 0 ${largeArcFlag_} 1 ${endX_} ${endY_}`,
											`L 0 0`,
										].join(' ');
										const pathEl_ = document.createElementNS('http://www.w3.org/2000/svg', 'path');
										pathEl_.setAttribute('d', pathData_);
										pathEl_.setAttribute('fill', slice_.color);
										svgEl_.appendChild(pathEl_);
									});
								</script>
								<br><br>
								<div class="balsamiq-font back-box">
									<div class="green-strong-color-res">
										<script type="text/javascript">document.write("A: "+gres[0]+" ("+Math.round(((gres[0]/gres[15])+Number.EPSILON)*100)+"%)");</script>
									</div>
									<div class="yellow-strong-color-res">
										<script type="text/javascript">document.write("B: "+gres[1]+" ("+Math.round(((gres[1]/gres[15])+Number.EPSILON)*100)+"%)");</script>
									</div>
									<div class="redbrown-strong-color-res">
										<script type="text/javascript">document.write("C: "+gres[2]+" ("+Math.round(((gres[2]/gres[15])+Number.EPSILON)*100)+"%)");</script>
									</div>
									<div class="brown-strong-color-res">
										<script type="text/javascript">document.write("D: "+gres[3]+" ("+Math.round(((gres[3]/gres[15])+Number.EPSILON)*100)+"%)");</script>
									</div>
								</div>
							</td>
						</tr>
						<tr>
							<td>
								<button class="leave-button invisible">
									<span class="material-symbols-outlined leave middle">
									logout
								</span>
								<br>
								Zurück zum Anfang
							</button>
							</td>
							<td>
								<a href="../../">
									<button class="leave-button" href="../../">
										<span class="material-symbols-outlined leave middle">
										logout
									</span>
									<br>
									Zurück zum Anfang
								</button>
							</a>
							</td>
						</tr>
					</tbody>
				</table>
			</span>
		</Transition>
	</body>
</html>